/**
 * i18n Locale Strings for Live2DPet Settings UI
 * Supports: English (en), 中文 (zh), 日本語 (ja)
 */
const I18N = {
  en: {
    'lang.label': 'Language',
    'tab.settings': 'Settings', 'tab.model': 'Model', 'tab.emotion': 'Emotion', 'tab.tts': 'TTS', 'tab.prompt': 'Prompt', 'tab.enhance': 'Enhance',
    'api.title': 'API Configuration',
    'api.hint': 'Tip: Register at openrouter.ai and go to openrouter.ai/keys to create an API Key. Supports many models including Grok, Gemini, etc.',
    'api.baseUrl': 'API Base URL', 'api.key': 'API Key', 'api.model': 'Model Name',
    'btn.save': 'Save', 'btn.test': 'Test',
    'tl.title': 'Translation API (for TTS)',
    'tl.hint': 'Leave empty to reuse main API settings',
    'tl.placeholder': 'Empty = reuse main API',
    'detect.title': 'Detection Settings',
    'detect.interval': 'API send frequency (sec)',
    'detect.chatGap': 'Min chat gap (sec)',
    'btn.start': 'Start Pet', 'btn.stop': 'Stop Pet',
    'footer.text': 'Open source & free. Get the latest version on',
    'footer.star': 'GitHub',
    'model.mode': 'Model Mode',
    'model.none': 'No Model (Guide)', 'model.live2d': 'Live2D', 'model.image': 'Image Folder',
    'model.l2d.title': 'Live2D Model',
    'model.l2d.select': 'Select Model Folder',
    'model.l2d.copy': 'Copy to app data directory',
    'model.param.title': 'Parameter Mapping',
    'model.param.apply': 'Apply Suggested Mapping',
    'model.canvas.title': 'Canvas Y Anchor',
    'model.img.title': 'Image Folder',
    'model.img.select': 'Select Image Folder',
    'model.img.crop': 'Crop Scale (1.0=original, higher crops more bottom)',
    'model.bubble.title': 'Bubble Frame',
    'model.bubble.select': 'Select Bubble Image', 'model.bubble.clear': 'Clear',
    'model.icon.title': 'App Icon',
    'model.icon.select': 'Select Icon',
    'model.save': 'Save Model Settings', 'model.clear': 'Clear Model',
    'emo.freq.title': 'Expression Frequency',
    'emo.freq.label': 'Expected frequency (sec, min 30)',
    'emo.simultaneous': 'Allow simultaneous expression & motion',
    'emo.expr.title': 'Expression List',
    'emo.expr.hint': 'Expressions auto-load after model import.',
    'emo.expr.add': 'Add Expression',
    'emo.motion.title': 'Motion List',
    'emo.motion.hint': 'Motions auto-load after model import.',
    'emo.motion.add': 'Add Motion',
    'emo.defExprDur': 'Default expression duration (sec)',
    'emo.defMotionDur': 'Default motion duration (sec)',
    'emo.save': 'Save Expression Settings',
    'tts.title': 'VOICEVOX TTS',
    'tts.hint': 'Requires voicevox_core directory. Status auto-detected on startup.',
    'tts.setup': 'One-click Install VOICEVOX',
    'tts.restart': 'Restart TTS',
    'tts.dlNote': 'Requires internet. Auto-downloads Core + ONNX Runtime + Dictionary + Default voice model (~120MB).',
    'tts.gpu': 'GPU Acceleration (DirectML)',
    'tts.gpuNote': 'Requires downloading voicevox_onnxruntime-win-x64-dml-1.17.3. Restart TTS after saving.',
    'tts.audioMode': 'Audio Mode',
    'tts.mode.tts': 'TTS Voice Synthesis', 'tts.mode.default': 'Default Audio', 'tts.mode.silent': 'Silent',
    'tts.modeHint': 'Auto fallback: TTS → Default Audio → Silent when unavailable.',
    'tts.speaker': 'Speaker', 'tts.style': 'Style',
    'tts.speed': 'Speed', 'tts.pitch': 'Pitch', 'tts.volume': 'Volume',
    'tts.save': 'Save TTS Settings',
    'tts.test.title': 'Test',
    'tts.test.placeholder': 'Enter text to test...',
    'tts.test.btn': 'Test Voice',
    'tts.defAudio.title': 'Default Audio',
    'tts.defAudio.desc': 'Pre-generated filler phrases played when TTS is unavailable. Synthesized with current speaker/style.',
    'tts.defAudio.label': 'Phrase list (one per line)',
    'tts.defAudio.gen': 'Generate Default Audio',
    'tts.vvm.title': 'Voice Model (VVM)',
    'tts.vvm.hint': 'Check VVM files to load. Saving will restart the app.',
    'tts.vvm.save': 'Save & Restart',
    'prompt.card': 'Character Card',
    'prompt.name': 'Character Name', 'prompt.name.ph': 'Character name',
    'prompt.identity': 'Character Identity',
    'prompt.identity.desc': "Character's relationship to user (e.g., sister, friend, assistant)",
    'prompt.identity.ph': 'sister',
    'prompt.term': 'Address Term',
    'prompt.term.desc': 'How character addresses user (e.g., you, bro, master)',
    'prompt.term.ph': 'you',
    'prompt.desc': 'Description', 'prompt.desc.ph': 'Character description...',
    'prompt.personality': 'Personality', 'prompt.personality.ph': 'Personality traits...',
    'prompt.scenario': 'Scenario', 'prompt.scenario.ph': 'Scenario and context...',
    'prompt.rules': 'Hard Rules', 'prompt.rules.ph': 'Rules that must not be violated...',
    'prompt.language': 'Response Language',
    'prompt.language.ph': 'e.g., 中文, English, 日本語 (empty = no restriction)',
    'prompt.save': 'Save',
    'prompt.newName.ph': 'Enter name...',
    'prompt.confirm': 'OK', 'prompt.cancel': 'Cancel',
    'param.angleX': 'Head L/R', 'param.angleY': 'Head U/D', 'param.angleZ': 'Head Tilt',
    'param.bodyAngleX': 'Body L/R', 'param.eyeBallX': 'Eye L/R', 'param.eyeBallY': 'Eye U/D',
    'img.idle': 'Idle', 'img.talking': 'Talking', 'img.emotion': 'Emotion', 'img.emotionPh': 'Emotion name',
    'sec': 'sec',
    'card.builtin': '(Built-in)',
    'card.resetBuiltin': 'Reset Built-in Cards',
    'status.builtinReset': 'Built-in cards reset',
    'status.saved': 'Saved', 'status.switched': 'Character switched',
    'status.created': 'Created: ', 'status.renamed': 'Renamed',
    'status.deleted': 'Deleted', 'status.saveFail': 'Save failed: ',
    // Dynamic status messages (settings-ui.js)
    'status.testing': 'Testing...', 'status.connected': 'Connected: ', 'status.failed': 'Failed: ',
    'status.modelInfo': 'Model: ', 'status.folderInfo': 'Folder: ',
    'status.scanning': 'Scanning model...', 'status.scanningImages': 'Scanning images...',
    'status.copyingModel': 'Copying model to app data...', 'status.modelImported': 'Model imported',
    'status.copyFailed': 'Copy failed: ', 'status.modelSelected': 'Model selected',
    'status.unmapped': 'Unmapped', 'status.suggestedApplied': 'Suggested mapping applied',
    'status.imagesScanned': '{0} images scanned',
    'status.bubbleInfo': 'Bubble: ', 'status.iconInfo': 'Icon: ',
    'status.modelSaved': 'Model settings saved', 'status.modelCleared': 'Model cleared',
    'status.newExpr': 'New Expression', 'status.newMotion': 'New Motion',
    'status.exprSaved': 'Expression settings saved', 'status.default': 'Default',
    // TTS dynamic status
    'tts.circuitBreak': 'TTS: Circuit break ({0}s until retry)',
    'tts.ready': 'TTS: Ready', 'tts.readyGpu': ' (GPU)', 'tts.readyCpu': ' (CPU)',
    'tts.offline': 'TTS: Offline (voicevox_core not found)',
    'tts.restarting': 'TTS: Restarting...',
    'tts.restartFailed': 'TTS: Restart failed - ', 'tts.unknownError': 'Unknown error',
    'tts.synthesizing': 'Synthesizing...', 'tts.translated': 'Translated: ',
    'tts.synthFailed': 'Failed: ',
    'tts.installing': 'Installing...', 'tts.preparing': 'Preparing...',
    'tts.installDone': 'Installation complete! Restart TTS to apply.',
    'tts.installDoneTts': 'Installation complete, TTS started!',
    'tts.installFail': 'Installation failed: ',
    'tts.enterPhrase': 'Enter at least one phrase',
    'tts.generating': 'Generating... ({0})', 'tts.generateDone': 'Done: {0}/{1} succeeded',
    'tts.vvm.dl': 'Download', 'tts.vvm.dlFail': 'Download failed: ',
    'tts.vvm.selectOne': 'Select at least one VVM',
    'tts.vvm.savedRestart': 'Saved, restart to apply',
    'tts.vvm.saved': 'VVM config applied',
    // System prompt i18n (prompt-builder.js / desktop-pet-system.js)
    'sys.responseMode': '[Response Mode] Do not overthink, give the final response as quickly as possible.',
    'sys.importantReminder': '[Important Reminder] The above rules must be strictly followed. Check compliance before each response.',
    'sys.useLanguage': 'Use {0}.',
    'sys.appDetection': '(system: The user is currently using {0}, respond naturally)',
    'sys.idle1': '(system: The user has been idle for a while. No new screenshot — use window titles, usage history, and conversation context to say something.)',
    'sys.idle2': '(system: Start a topic based on what you know — the window titles, past conversation, or your own thoughts.)',
    'sys.idle3': '(system: Share your thoughts or feelings based on what the user has been doing recently.)',
    'sys.idle4': '(system: Share your current mood, or express care about the user based on their recent activity.)',
    'sys.selfAwareness': '[Self-awareness] Do not proactively mention your appearance or that you are a Live2D character.',
    'sys.emotionState': '[Current Emotion State] Emotion value: ',
    'sys.emotionNext': ', next expression tendency: ',
    'sys.windowUsage': '[Recent Window Usage] ',
    'sys.seconds': 's',
    'sys.screenshotAttached': '(with screenshot)',
    'sys.windowLayout': '[Desktop Layout] ',
    'sys.userIdle': '[User Input Idle] No keyboard/mouse activity for {0}s',
    'sys.petPosition': '[Your Position] Screen position ({x},{y}), size {w}x{h}. The character there in the screenshot is you.',
    'sys.historyScreenshot': '(User is using {0}, viewed screenshot)',
    'sys.historyUsing': '(User is using {0})',
    'sys.vlmPrompt': 'Extract 3-5 keywords and a short descriptive title from this screenshot. Format: keywords: k1, k2, k3 | title: descriptive title. No explanation. Output in {0}.',
    'sys.knowledgePrompt': 'You are a knowledge organizer. Summarize the context in max 150 chars. Format: [Topic] key facts. Output in {0}.',
    'sys.emotionPrompt': 'You are an emotion classifier. Given the character\'s last spoken line, pick the single most fitting emotion from this list: [{0}]. Reply with ONLY the emotion name from the list, nothing else.',
    // Enhance system
    'enhance.tokens.title': 'Response Length',
    'enhance.tokens.label': 'Max tokens multiplier',
    'enhance.tokens.info': 'Current: {0} tokens (base 2048 × {1})',
    'enhance.memory.title': 'Activity Memory',
    'enhance.memory.desc': 'Record daily app usage patterns',
    'enhance.memory.retention': 'Retention days',
    'enhance.memory.privacy': 'This records window titles for context',
    'enhance.search.title': 'Context Search',
    'enhance.search.desc': 'Search related info for current context',
    'enhance.search.provider': 'Search Provider',
    'enhance.search.duckduckgo': 'DuckDuckGo (blocked in China)',
    'enhance.search.custom': 'Custom API (Bing API, SearXNG, etc.)',
    'enhance.search.customUrl': 'API URL',
    'enhance.search.customKey': 'API Key (Authorization header)',
    'enhance.search.customHeaders': 'Custom Headers (JSON, optional)',
    'enhance.search.frequency': 'Min search interval (sec)',
    'enhance.knowledge.title': 'Knowledge Organization',
    'enhance.knowledge.desc': 'LLM-organized knowledge (uses API tokens)',
    'enhance.knowledge.hint': 'Uses main API to organize search results. Frequency auto-adjusts.',
    'enhance.vlm.title': 'Screen Analysis',
    'enhance.vlm.desc': 'Extract keywords from screenshots (uses API tokens)',
    'enhance.vlm.hint': 'Uses vision API to analyze screenshots and enrich context. Frequency auto-adjusts per window.',
    'enhance.kbAcq.title': 'Knowledge Acquisition',
    'enhance.kbAcq.desc': 'Auto-search and accumulate topic knowledge (requires Search + Screen Analysis)',
    'enhance.kbAcq.hint': 'Generates search tasks from screen analysis topics. Uses search and API quota.',
    'enhance.kbAcq.depWarn': 'Requires Search and Screen Analysis to be enabled',
    'enhance.knowledge.depWarn': 'Requires Search to be enabled',
    'enhance.search.invalidHeaders': 'Custom Headers: invalid JSON',
    'sys.kbTopicPrompt': 'Extract 1-3 specific named entities (exact game titles, framework names, person names, product names) from these keywords: {0}. Only include concrete, identifiable names — skip generic or vague terms. If no specific entity can be identified, return an empty array. Return only a JSON array. Example: ["React","PostgreSQL"]',
    'sys.kbTermsPrompt': 'As a search tool, give me knowledge search terms for "{0}". Current time: {1}. Focus on core content. Provide commonly used terms from recent discussions. Exclude low-confidence/outdated/unconfirmed content. Return only a JSON noun array. Example: ["term1","term2"]',
    'sys.todayActivity': "Today's Activity",
    'sys.usageHistory': 'Usage History',
    'sys.relatedInfo': 'Related Info',
    'sys.knowledge': 'Knowledge',
    'sys.screenContent': 'Screen Content',
    // Main process strings
    'main.size': 'Size', 'main.settings': 'Settings', 'main.close': 'Close',
    'main.selectL2d': 'Select Live2D Model Folder',
    'main.selectImage': 'Select Image or GIF', 'main.selectImageFolder': 'Select Image Folder',
    'main.selectBubble': 'Select Bubble Image', 'main.selectIcon': 'Select App Icon',
    'main.filterImage': 'Images', 'main.filterIcon': 'Icons',
    'main.noModel3Json': 'No .model3.json file found in this folder',
    'main.model3NotExist': 'model3.json does not exist',
    'main.modelFolderNotExist': 'Model folder does not exist',
    'main.model3ParseFail': 'model3.json parse failed',
    'main.imageNotExist': 'Image file does not exist',
    'main.setupDlCore': 'Downloading voicevox_core...',
    'main.setupExtractCore': 'Extracting voicevox_core...',
    'main.setupCoreExists': 'voicevox_core already exists',
    'main.setupDlOnnx': 'Downloading ONNX Runtime...',
    'main.setupExtractOnnx': 'Extracting ONNX Runtime...',
    'main.setupOnnxExists': 'ONNX Runtime already exists',
    'main.setupDlDml': 'Downloading ONNX Runtime (DirectML/GPU)...',
    'main.setupExtractDml': 'Extracting ONNX Runtime (DirectML/GPU)...',
    'main.setupDmlExists': 'ONNX Runtime (DirectML/GPU) already exists',
    'main.setupDlDict': 'Downloading Open JTalk dictionary...',
    'main.setupExtractDict': 'Extracting Open JTalk dictionary...',
    'main.setupDictExists': 'Open JTalk dictionary already exists',
    'main.setupDlVvm': 'Downloading 0.vvm...',
    'main.setupVvmExists': '0.vvm already exists',
    'main.setupDone': 'Installation complete!',
    'main.setupFail': 'Installation failed: ',
    // Tray menu
    'tray.showSettings': 'Show Settings', 'tray.showPet': 'Show Pet', 'tray.hidePet': 'Hide Pet', 'tray.quit': 'Quit',
  },
  zh: {
    'lang.label': '语言',
    'tab.settings': '设置', 'tab.model': '模型', 'tab.emotion': '表情', 'tab.tts': 'TTS', 'tab.prompt': 'Prompt', 'tab.enhance': '增强',
    'api.title': 'API 配置',
    'api.hint': '提示：前往 openrouter.ai 注册账号，在 openrouter.ai/keys 创建 API Key。支持 Grok、Gemini 等多种模型',
    'api.baseUrl': 'API Base URL', 'api.key': 'API Key', 'api.model': '模型名称',
    'btn.save': '保存', 'btn.test': '测试',
    'tl.title': '翻译 API (TTS用)',
    'tl.hint': '留空则复用上方主 API 设置',
    'tl.placeholder': '留空=复用主API',
    'detect.title': '检测设置',
    'detect.interval': 'API 发送频率 (秒)',
    'detect.chatGap': '对话最小间隔 (秒)',
    'btn.start': '启动宠物', 'btn.stop': '停止宠物',
    'footer.text': '开源免费 到',
    'footer.star': 'GitHub',
    'model.mode': '模型模式',
    'model.none': '无模型 (引导)', 'model.live2d': 'Live2D', 'model.image': '图片文件夹',
    'model.l2d.title': 'Live2D 模型',
    'model.l2d.select': '选择模型文件夹',
    'model.l2d.copy': '复制到应用数据目录',
    'model.param.title': '参数映射',
    'model.param.apply': '应用建议映射',
    'model.canvas.title': 'Canvas Y 锚点',
    'model.img.title': '图片文件夹',
    'model.img.select': '选择图片文件夹',
    'model.img.crop': '裁剪缩放 (1.0=原始, 越大裁剪越多底部)',
    'model.bubble.title': '气泡框',
    'model.bubble.select': '选择气泡框图片', 'model.bubble.clear': '清除',
    'model.icon.title': '应用图标',
    'model.icon.select': '选择图标',
    'model.save': '保存模型设置', 'model.clear': '清除模型',
    'emo.freq.title': '表情频率',
    'emo.freq.label': '期望频率 (秒, 最短 30)',
    'emo.simultaneous': '允许表情和动作同时播放',
    'emo.expr.title': '表情列表',
    'emo.expr.hint': '导入模型后，表情将自动加载。',
    'emo.expr.add': '添加表情',
    'emo.motion.title': '动作列表 (Motion)',
    'emo.motion.hint': '导入模型后，动作将自动加载。',
    'emo.motion.add': '添加动作',
    'emo.defExprDur': '默认表情时长 (秒)',
    'emo.defMotionDur': '默认动作时长 (秒)',
    'emo.save': '保存表情设置',
    'tts.title': 'VOICEVOX TTS',
    'tts.hint': '需要 voicevox_core 目录。状态将在启动时自动检测。',
    'tts.setup': '一键安装 VOICEVOX',
    'tts.restart': '重启 TTS',
    'tts.dlNote': '需要网络连接。自动下载 Core + ONNX Runtime + 辞書 + 默认语音模型 (约120MB)。',
    'tts.gpu': 'GPU 加速 (DirectML)',
    'tts.gpuNote': '需要下载 voicevox_onnxruntime-win-x64-dml-1.17.3，保存后需重启 TTS。',
    'tts.audioMode': '音频模式',
    'tts.mode.tts': 'TTS 语音合成', 'tts.mode.default': '默认音声', 'tts.mode.silent': '静音',
    'tts.modeHint': 'TTS 不可用时自动降级到默认音声，再不可用则静音。',
    'tts.speaker': '角色', 'tts.style': 'Style',
    'tts.speed': '语速 (Speed)', 'tts.pitch': '音高 (Pitch)', 'tts.volume': '音量 (Volume)',
    'tts.save': '保存 TTS 设置',
    'tts.test.title': '测试',
    'tts.test.placeholder': '输入文本测试...',
    'tts.test.btn': '测试语音',
    'tts.defAudio.title': '默认音声',
    'tts.defAudio.desc': 'TTS 不可用时播放的预生成语气词。用当前角色/Style 合成。',
    'tts.defAudio.label': '语气词列表 (每行一个)',
    'tts.defAudio.gen': '生成默认音声',
    'tts.vvm.title': '语音模型 (VVM)',
    'tts.vvm.hint': '勾选要加载的 VVM 文件，保存后将自动重启应用。',
    'tts.vvm.save': '保存并重启',
    'prompt.card': '角色卡',
    'prompt.name': '角色名', 'prompt.name.ph': '角色名称',
    'prompt.identity': '角色身份',
    'prompt.identity.desc': '角色与用户的关系 (e.g., 妹妹, 朋友, 助手)',
    'prompt.identity.ph': '妹妹',
    'prompt.term': '称呼方式',
    'prompt.term.desc': '角色如何称呼用户 (e.g., 你, 哥哥, 主人)',
    'prompt.term.ph': '你',
    'prompt.desc': '描述', 'prompt.desc.ph': '角色描述...',
    'prompt.personality': '性格', 'prompt.personality.ph': '性格设定...',
    'prompt.scenario': '场景', 'prompt.scenario.ph': '场景和规则...',
    'prompt.rules': '硬性规则', 'prompt.rules.ph': '不可违反的规则...',
    'prompt.language': '回复语言',
    'prompt.language.ph': '例如：中文, English, 日本語 (留空=不限制)',
    'prompt.save': '保存',
    'prompt.newName.ph': '输入名称...',
    'prompt.confirm': '确定', 'prompt.cancel': '取消',
    'param.angleX': '头部左右', 'param.angleY': '头部上下', 'param.angleZ': '头部倾斜',
    'param.bodyAngleX': '身体左右', 'param.eyeBallX': '眼球左右', 'param.eyeBallY': '眼球上下',
    'img.idle': '待机', 'img.talking': '说话', 'img.emotion': '表情', 'img.emotionPh': '表情名',
    'sec': '秒',
    'card.builtin': '(内置)',
    'card.resetBuiltin': '重置内置角色卡',
    'status.builtinReset': '内置角色卡已重置',
    'status.saved': '已保存', 'status.switched': '已切换角色',
    'status.created': '已创建: ', 'status.renamed': '已改名',
    'status.deleted': '已删除', 'status.saveFail': '保存失败: ',
    // Dynamic status messages
    'status.testing': '测试中...', 'status.connected': '已连接: ', 'status.failed': '失败: ',
    'status.modelInfo': '模型: ', 'status.folderInfo': '文件夹: ',
    'status.scanning': '扫描模型...', 'status.scanningImages': '扫描图片...',
    'status.copyingModel': '复制模型到应用数据目录...', 'status.modelImported': '模型已导入',
    'status.copyFailed': '复制失败: ', 'status.modelSelected': '模型已选择',
    'status.unmapped': '未映射', 'status.suggestedApplied': '已应用建议映射',
    'status.imagesScanned': '已扫描 {0} 张图片',
    'status.bubbleInfo': '气泡框: ', 'status.iconInfo': '图标: ',
    'status.modelSaved': '模型设置已保存', 'status.modelCleared': '模型已清除',
    'status.newExpr': '新表情', 'status.newMotion': '新动作',
    'status.exprSaved': '表情设置已保存', 'status.default': '默认',
    // TTS dynamic status
    'tts.circuitBreak': 'TTS: 熔断中 ({0}s 后自动重试)',
    'tts.ready': 'TTS: 已就绪', 'tts.readyGpu': ' (GPU)', 'tts.readyCpu': ' (CPU)',
    'tts.offline': 'TTS: 离线 (voicevox_core 未找到)',
    'tts.restarting': 'TTS: 重启中...',
    'tts.restartFailed': 'TTS: 重启失败 - ', 'tts.unknownError': '未知错误',
    'tts.synthesizing': '合成中...', 'tts.translated': '翻译: ',
    'tts.synthFailed': '失败: ',
    'tts.installing': '安装中...', 'tts.preparing': '准备中...',
    'tts.installDone': '安装完成! 重启 TTS 生效。',
    'tts.installDoneTts': '安装完成，TTS 已启动!',
    'tts.installFail': '安装失败: ',
    'tts.enterPhrase': '请输入至少一个语气词',
    'tts.generating': '生成中... ({0})', 'tts.generateDone': '完成: {0}/{1} 个成功',
    'tts.vvm.dl': '下载', 'tts.vvm.dlFail': '下载失败: ',
    'tts.vvm.selectOne': '至少选择一个 VVM',
    'tts.vvm.savedRestart': '已保存，重启后生效',
    'tts.vvm.saved': 'VVM 配置已生效',
    // System prompt i18n
    'sys.responseMode': '【响应模式】不要过度思考过程，尽快给出最终回复。',
    'sys.importantReminder': '【重要提醒】以上规则必须严格遵守，每次回复前请检查是否符合所有规则。',
    'sys.useLanguage': '使用{0}。',
    'sys.appDetection': '（system：当前用户正在使用应用{0}，请自然地回应一句）',
    'sys.idle1': '（system：用户一段时间没有操作了。没有新的截图，请根据窗口标题、使用记录和对话上下文说说自己想说的吧）',
    'sys.idle2': '（system：主动找个话题，可以根据你知道的窗口标题、之前的对话，或者你自己的想法）',
    'sys.idle3': '（system：根据用户最近在做的事情，发表一下你的看法或感想吧）',
    'sys.idle4': '（system：分享一下此刻的心情，或者根据用户最近的活动表达关心）',
    'sys.selfAwareness': '【自我认知】不要主动提及自己的外观或自己是Live2D角色。',
    'sys.emotionState': '【当前情绪状态】情绪值: ',
    'sys.emotionNext': '，下一个表情倾向: ',
    'sys.windowUsage': '【最近窗口使用情况】',
    'sys.seconds': '秒',
    'sys.screenshotAttached': '（附上屏幕截图）',
    'sys.windowLayout': '【桌面布局】',
    'sys.userIdle': '【用户输入空闲】已有{0}秒无键盘/鼠标操作',
    'sys.petPosition': '【你的位置】屏幕坐标({x},{y})，大小{w}x{h}。截图中该位置的角色就是你自己。',
    'sys.historyScreenshot': '（用户正在使用{0}，已查看截图）',
    'sys.historyUsing': '（用户正在使用{0}）',
    'sys.vlmPrompt': '从这张截图中提取3-5个关键词和一个简短的描述性标题。格式：keywords: k1, k2, k3 | title: 描述性标题。不要解释。用{0}输出。',
    'sys.knowledgePrompt': '你是一个知识整理者。用最多150字符总结上下文。格式：[主题] 关键事实。用{0}输出。',
    'sys.emotionPrompt': '你是一个情绪分类器。根据角色最后说的话，从以下列表中选择最合适的一个情绪：[{0}]。只回复列表中的情绪名称，不要其他内容。',
    // 增强系统
    'enhance.tokens.title': '回复长度',
    'enhance.tokens.label': '最大 token 倍率',
    'enhance.tokens.info': '当前: {0} tokens (基础 2048 × {1})',
    'enhance.memory.title': '活动记忆',
    'enhance.memory.desc': '记录每日应用使用模式',
    'enhance.memory.retention': '保留天数',
    'enhance.memory.privacy': '此功能会记录窗口标题用于上下文',
    'enhance.search.title': '上下文搜索',
    'enhance.search.desc': '搜索当前上下文的相关信息',
    'enhance.search.provider': '搜索引擎',
    'enhance.search.duckduckgo': 'DuckDuckGo (中国不可用)',
    'enhance.search.custom': '自定义 API (Bing API、SearXNG 等)',
    'enhance.search.customUrl': 'API URL',
    'enhance.search.customKey': 'API Key (Authorization 头)',
    'enhance.search.customHeaders': '自定义请求头 (JSON，可选)',
    'enhance.search.frequency': '最小搜索间隔 (秒)',
    'enhance.knowledge.title': '知识整理',
    'enhance.knowledge.desc': 'LLM 整理知识 (消耗 API tokens)',
    'enhance.knowledge.hint': '使用主 API 整理搜索结果，频率自动调节',
    'enhance.vlm.title': '屏幕分析',
    'enhance.vlm.desc': '从截图提取关键词（消耗 API tokens）',
    'enhance.vlm.hint': '使用视觉 API 分析截图并增强上下文，频率按窗口自动调节',
    'enhance.kbAcq.title': '知识获取',
    'enhance.kbAcq.desc': '自动搜索并积累主题知识（需开启搜索和屏幕分析）',
    'enhance.kbAcq.hint': '基于屏幕分析主题词自动生成搜索任务，消耗搜索和 API 额度',
    'enhance.kbAcq.depWarn': '需要开启搜索和屏幕分析',
    'enhance.knowledge.depWarn': '需要开启搜索',
    'enhance.search.invalidHeaders': '自定义请求头：JSON 格式无效',
    'sys.kbTopicPrompt': '从以下关键词中提取1-3个具体的命名实体（准确的游戏名、框架名、人名、产品名等）。关键词：{0}。只包含具体可识别的名称，跳过泛化或模糊的词。如果无法确定具体实体，返回空数组。只返回JSON数组。示例：["React","PostgreSQL"]',
    'sys.kbTermsPrompt': '作为搜索工具，给我"{0}"相关的知识搜索词。当前时间：{1}。专注于内容本身而非周边信息。给出近期论坛常用的定式语言和关键术语。排除低置信度和低时效性内容，排除预告等未确认信息。只返回JSON名词列表。示例：["术语1","术语2"]',
    'sys.todayActivity': '今日活动',
    'sys.usageHistory': '使用历史',
    'sys.relatedInfo': '相关信息',
    'sys.knowledge': '知识',
    'sys.screenContent': '屏幕内容',
    // Main process strings
    'main.size': '大小', 'main.settings': '设置', 'main.close': '关闭',
    'main.selectL2d': '选择 Live2D 模型文件夹',
    'main.selectImage': '选择静态图片或 GIF', 'main.selectImageFolder': '选择图片文件夹',
    'main.selectBubble': '选择气泡框图片', 'main.selectIcon': '选择应用图标',
    'main.filterImage': '图片', 'main.filterIcon': '图标',
    'main.noModel3Json': '该文件夹中未找到 .model3.json 文件',
    'main.model3NotExist': 'model3.json 不存在',
    'main.modelFolderNotExist': '模型文件夹不存在',
    'main.model3ParseFail': 'model3.json 解析失败',
    'main.imageNotExist': '图片文件不存在',
    'main.setupDlCore': '下载 voicevox_core...',
    'main.setupExtractCore': '解压 voicevox_core...',
    'main.setupCoreExists': 'voicevox_core 已存在',
    'main.setupDlOnnx': '下载 ONNX Runtime...',
    'main.setupExtractOnnx': '解压 ONNX Runtime...',
    'main.setupOnnxExists': 'ONNX Runtime 已存在',
    'main.setupDlDml': '下载 ONNX Runtime (DirectML/GPU)...',
    'main.setupExtractDml': '解压 ONNX Runtime (DirectML/GPU)...',
    'main.setupDmlExists': 'ONNX Runtime (DirectML/GPU) 已存在',
    'main.setupDlDict': '下载 Open JTalk 辞書...',
    'main.setupExtractDict': '解压 Open JTalk 辞書...',
    'main.setupDictExists': 'Open JTalk 辞書 已存在',
    'main.setupDlVvm': '下载 0.vvm...',
    'main.setupVvmExists': '0.vvm 已存在',
    'main.setupDone': '安装完成!',
    'main.setupFail': '安装失败: ',
    // 托盘菜单
    'tray.showSettings': '显示设置', 'tray.showPet': '显示宠物', 'tray.hidePet': '隐藏宠物', 'tray.quit': '退出',
  },
  ja: {
    'lang.label': '言語',
    'tab.settings': '設定', 'tab.model': 'モデル', 'tab.emotion': '表情', 'tab.tts': 'TTS', 'tab.prompt': 'プロンプト', 'tab.enhance': '拡張',
    'api.title': 'API 設定',
    'api.hint': 'ヒント：OpenRouter などのアグリゲーションプラットフォームで API キーを取得し、openrouter.ai/keys で作成できます',
    'api.baseUrl': 'API ベース URL', 'api.key': 'API キー', 'api.model': 'モデル名',
    'btn.save': '保存', 'btn.test': 'テスト',
    'tl.title': '翻訳 API (TTS用)',
    'tl.hint': '空欄の場合はメイン API 設定を使用',
    'tl.placeholder': '空欄=メインAPI使用',
    'detect.title': '検出設定',
    'detect.interval': 'API 送信頻度 (秒)',
    'detect.chatGap': '対話最小間隔 (秒)',
    'btn.start': 'ペット起動', 'btn.stop': 'ペット停止',
    'footer.text': 'オープンソース・無料',
    'footer.star': 'GitHub',
    'model.mode': 'モデルモード',
    'model.none': 'モデルなし (ガイド)', 'model.live2d': 'Live2D', 'model.image': '画像フォルダ',
    'model.l2d.title': 'Live2D モデル',
    'model.l2d.select': 'モデルフォルダを選択',
    'model.l2d.copy': 'アプリデータにコピー',
    'model.param.title': 'パラメータマッピング',
    'model.param.apply': '推奨マッピングを適用',
    'model.canvas.title': 'Canvas Y アンカー',
    'model.img.title': '画像フォルダ',
    'model.img.select': '画像フォルダを選択',
    'model.img.crop': 'クロップスケール (1.0=原寸, 大きいほど下部をクロップ)',
    'model.bubble.title': '吹き出し枠',
    'model.bubble.select': '吹き出し画像を選択', 'model.bubble.clear': 'クリア',
    'model.icon.title': 'アプリアイコン',
    'model.icon.select': 'アイコンを選択',
    'model.save': 'モデル設定を保存', 'model.clear': 'モデルをクリア',
    'emo.freq.title': '表情頻度',
    'emo.freq.label': '期待頻度 (秒, 最小 30)',
    'emo.simultaneous': '表情とモーションの同時再生を許可',
    'emo.expr.title': '表情リスト',
    'emo.expr.hint': 'モデルインポート後、表情は自動ロードされます。',
    'emo.expr.add': '表情を追加',
    'emo.motion.title': 'モーションリスト',
    'emo.motion.hint': 'モデルインポート後、モーションは自動ロードされます。',
    'emo.motion.add': 'モーションを追加',
    'emo.defExprDur': 'デフォルト表情時間 (秒)',
    'emo.defMotionDur': 'デフォルトモーション時間 (秒)',
    'emo.save': '表情設定を保存',
    'tts.title': 'VOICEVOX TTS',
    'tts.hint': 'voicevox_core ディレクトリが必要です。起動時に自動検出されます。',
    'tts.setup': 'ワンクリック VOICEVOX インストール',
    'tts.restart': 'TTS 再起動',
    'tts.dlNote': 'ネットワーク接続が必要。Core + ONNX Runtime + 辞書 + デフォルト音声モデルを自動ダウンロード (約120MB)。',
    'tts.gpu': 'GPU アクセラレーション (DirectML)',
    'tts.gpuNote': 'voicevox_onnxruntime-win-x64-dml-1.17.3 のダウンロードが必要。保存後 TTS を再起動してください。',
    'tts.audioMode': 'オーディオモード',
    'tts.mode.tts': 'TTS 音声合成', 'tts.mode.default': 'デフォルト音声', 'tts.mode.silent': '無音',
    'tts.modeHint': 'TTS 利用不可時はデフォルト音声に、それも不可なら無音にフォールバック。',
    'tts.speaker': 'キャラクター', 'tts.style': 'スタイル',
    'tts.speed': '速度', 'tts.pitch': 'ピッチ', 'tts.volume': '音量',
    'tts.save': 'TTS 設定を保存',
    'tts.test.title': 'テスト',
    'tts.test.placeholder': 'テストテキストを入力...',
    'tts.test.btn': '音声テスト',
    'tts.defAudio.title': 'デフォルト音声',
    'tts.defAudio.desc': 'TTS 利用不可時に再生するプリセットフレーズ。現在のキャラクター/スタイルで合成。',
    'tts.defAudio.label': 'フレーズリスト (1行に1つ)',
    'tts.defAudio.gen': 'デフォルト音声を生成',
    'tts.vvm.title': '音声モデル (VVM)',
    'tts.vvm.hint': 'ロードする VVM ファイルにチェック。保存するとアプリが再起動します。',
    'tts.vvm.save': '保存して再起動',
    'prompt.card': 'キャラクターカード',
    'prompt.name': 'キャラクター名', 'prompt.name.ph': 'キャラクター名',
    'prompt.identity': 'キャラクターの身分',
    'prompt.identity.desc': 'キャラクターとユーザーの関係 (例: 妹, 友達, アシスタント)',
    'prompt.identity.ph': '妹',
    'prompt.term': '呼び方',
    'prompt.term.desc': 'キャラクターがユーザーをどう呼ぶか (例: あなた, お兄ちゃん, ご主人様)',
    'prompt.term.ph': 'あなた',
    'prompt.desc': '説明', 'prompt.desc.ph': 'キャラクターの説明...',
    'prompt.personality': '性格', 'prompt.personality.ph': '性格設定...',
    'prompt.scenario': 'シナリオ', 'prompt.scenario.ph': 'シナリオとコンテキスト...',
    'prompt.rules': '厳格ルール', 'prompt.rules.ph': '違反してはならないルール...',
    'prompt.language': '応答言語',
    'prompt.language.ph': '例: 中文, English, 日本語 (空欄=制限なし)',
    'prompt.save': '保存',
    'prompt.newName.ph': '名前を入力...',
    'prompt.confirm': 'OK', 'prompt.cancel': 'キャンセル',
    'param.angleX': '頭部左右', 'param.angleY': '頭部上下', 'param.angleZ': '頭部傾き',
    'param.bodyAngleX': '体左右', 'param.eyeBallX': '目左右', 'param.eyeBallY': '目上下',
    'img.idle': '待機', 'img.talking': '会話', 'img.emotion': '表情', 'img.emotionPh': '表情名',
    'sec': '秒',
    'card.builtin': '(内蔵)',
    'card.resetBuiltin': '内蔵カードをリセット',
    'status.builtinReset': '内蔵カードをリセットしました',
    'status.saved': '保存しました', 'status.switched': 'キャラクターを切り替えました',
    'status.created': '作成: ', 'status.renamed': '名前を変更しました',
    'status.deleted': '削除しました', 'status.saveFail': '保存失敗: ',
    // Dynamic status messages
    'status.testing': 'テスト中...', 'status.connected': '接続成功: ', 'status.failed': '失敗: ',
    'status.modelInfo': 'モデル: ', 'status.folderInfo': 'フォルダ: ',
    'status.scanning': 'モデルをスキャン中...', 'status.scanningImages': '画像をスキャン中...',
    'status.copyingModel': 'モデルをアプリデータにコピー中...', 'status.modelImported': 'モデルをインポートしました',
    'status.copyFailed': 'コピー失敗: ', 'status.modelSelected': 'モデルを選択しました',
    'status.unmapped': '未マッピング', 'status.suggestedApplied': '推奨マッピングを適用しました',
    'status.imagesScanned': '{0} 枚の画像をスキャンしました',
    'status.bubbleInfo': '吹き出し: ', 'status.iconInfo': 'アイコン: ',
    'status.modelSaved': 'モデル設定を保存しました', 'status.modelCleared': 'モデルをクリアしました',
    'status.newExpr': '新しい表情', 'status.newMotion': '新しいモーション',
    'status.exprSaved': '表情設定を保存しました', 'status.default': 'デフォルト',
    // TTS dynamic status
    'tts.circuitBreak': 'TTS: サーキットブレーク ({0}秒後にリトライ)',
    'tts.ready': 'TTS: 準備完了', 'tts.readyGpu': ' (GPU)', 'tts.readyCpu': ' (CPU)',
    'tts.offline': 'TTS: オフライン (voicevox_core が見つかりません)',
    'tts.restarting': 'TTS: 再起動中...',
    'tts.restartFailed': 'TTS: 再起動失敗 - ', 'tts.unknownError': '不明なエラー',
    'tts.synthesizing': '合成中...', 'tts.translated': '翻訳: ',
    'tts.synthFailed': '失敗: ',
    'tts.installing': 'インストール中...', 'tts.preparing': '準備中...',
    'tts.installDone': 'インストール完了！TTS を再起動してください。',
    'tts.installDoneTts': 'インストール完了、TTS 起動済み！',
    'tts.installFail': 'インストール失敗: ',
    'tts.enterPhrase': '少なくとも1つのフレーズを入力してください',
    'tts.generating': '生成中... ({0})', 'tts.generateDone': '完了: {0}/{1} 成功',
    'tts.vvm.dl': 'ダウンロード', 'tts.vvm.dlFail': 'ダウンロード失敗: ',
    'tts.vvm.selectOne': '少なくとも1つの VVM を選択してください',
    'tts.vvm.savedRestart': '保存しました。再起動後に反映されます',
    'tts.vvm.saved': 'VVM 設定を適用しました',
    // System prompt i18n
    'sys.responseMode': '【応答モード】考えすぎず、できるだけ早く最終的な返答をしてください。',
    'sys.importantReminder': '【重要リマインダー】上記のルールは厳守してください。返答前に全ルールへの準拠を確認してください。',
    'sys.useLanguage': '{0}を使用してください。',
    'sys.appDetection': '（system：ユーザーは現在{0}を使用しています。自然に一言返答してください）',
    'sys.idle1': '（system：ユーザーがしばらく操作していません。新しいスクリーンショットはありません。ウィンドウタイトル、使用履歴、会話の文脈から何か言ってみてください）',
    'sys.idle2': '（system：話題を見つけてください。ウィンドウタイトル、過去の会話、あなた自身の考えを参考にしてください）',
    'sys.idle3': '（system：ユーザーが最近していることについて感想や意見を述べてください）',
    'sys.idle4': '（system：今の気持ちを共有するか、ユーザーの最近の活動への関心を示してください）',
    'sys.selfAwareness': '【自己認識】自分の外見やLive2Dキャラクターであることを自発的に言及しないでください。',
    'sys.emotionState': '【現在の感情状態】感情値: ',
    'sys.emotionNext': '、次の表情傾向: ',
    'sys.windowUsage': '【最近のウィンドウ使用状況】',
    'sys.seconds': '秒',
    'sys.screenshotAttached': '（スクリーンショット付き）',
    'sys.windowLayout': '【デスクトップレイアウト】',
    'sys.userIdle': '【ユーザー入力アイドル】{0}秒間キーボード/マウス操作なし',
    'sys.petPosition': '【あなたの位置】画面座標({x},{y})、サイズ{w}x{h}。スクリーンショットのその位置にいるキャラクターがあなたです。',
    'sys.historyScreenshot': '（ユーザーは{0}を使用中、スクリーンショットを確認済み）',
    'sys.historyUsing': '（ユーザーは{0}を使用中）',
    'sys.vlmPrompt': 'このスクリーンショットから3-5個のキーワードと短い説明的なタイトルを抽出してください。形式：keywords: k1, k2, k3 | title: 説明的なタイトル。説明不要。{0}で出力してください。',
    'sys.knowledgePrompt': '知識整理者として、コンテキストを最大150文字で要約してください。形式：[トピック] 重要な事実。{0}で出力してください。',
    'sys.emotionPrompt': '感情分類器として、キャラクターの最後のセリフから、このリストの中で最も適切な感情を1つ選んでください：[{0}]。リストの感情名のみを回答してください。',
    // 拡張システム
    'enhance.tokens.title': '応答長さ',
    'enhance.tokens.label': '最大トークン倍率',
    'enhance.tokens.info': '現在: {0} トークン (基本 2048 × {1})',
    'enhance.memory.title': 'アクティビティ記憶',
    'enhance.memory.desc': '日々のアプリ使用パターンを記録',
    'enhance.memory.retention': '保持日数',
    'enhance.memory.privacy': 'ウィンドウタイトルをコンテキスト用に記録します',
    'enhance.search.title': 'コンテキスト検索',
    'enhance.search.desc': '現在のコンテキストの関連情報を検索',
    'enhance.search.provider': '検索プロバイダー',
    'enhance.search.duckduckgo': 'DuckDuckGo (中国ブロック)',
    'enhance.search.custom': 'カスタム API (Bing API、SearXNG など)',
    'enhance.search.customUrl': 'API URL',
    'enhance.search.customKey': 'API キー (Authorization ヘッダー)',
    'enhance.search.customHeaders': 'カスタムヘッダー (JSON、任意)',
    'enhance.search.frequency': '最小検索間隔 (秒)',
    'enhance.knowledge.title': '知識整理',
    'enhance.knowledge.desc': 'LLM知識整理 (APIトークン消費)',
    'enhance.knowledge.hint': 'メインAPIで検索結果を整理。頻度は自動調整',
    'enhance.vlm.title': '画面分析',
    'enhance.vlm.desc': 'スクリーンショットからキーワード抽出（APIトークン消費）',
    'enhance.vlm.hint': 'ビジョンAPIでスクリーンショットを分析しコンテキストを強化。頻度はウィンドウごとに自動調整',
    'enhance.kbAcq.title': '知識取得',
    'enhance.kbAcq.desc': '自動検索でトピック知識を蓄積（検索と画面分析が必要）',
    'enhance.kbAcq.hint': '画面分析のトピックから検索タスクを自動生成。検索とAPIクォータを消費',
    'enhance.kbAcq.depWarn': '検索と画面分析の有効化が必要です',
    'enhance.knowledge.depWarn': '検索の有効化が必要です',
    'enhance.search.invalidHeaders': 'カスタムヘッダー：無効なJSON',
    'sys.kbTopicPrompt': '以下のキーワードから1-3個の具体的な固有名詞（正確なゲーム名・フレームワーク名・人名・製品名等）を抽出：{0}。具体的に特定できる名称のみ含め、汎用的・曖昧な語は除外。具体的な実体が特定できない場合は空配列を返却。JSON配列のみ返却。例：["React","PostgreSQL"]',
    'sys.kbTermsPrompt': '検索ツールとして「{0}」の知識検索ワードを提供。現在時刻：{1}。コンテンツ本体に集中。最近の定番用語を提供。低信頼度・未確認情報を除外。JSON名詞リストのみ。例：["用語1","用語2"]',
    'sys.todayActivity': '本日のアクティビティ',
    'sys.usageHistory': '使用履歴',
    'sys.relatedInfo': '関連情報',
    'sys.knowledge': '知識',
    'sys.screenContent': '画面内容',
    // Main process strings
    'main.size': 'サイズ', 'main.settings': '設定', 'main.close': '閉じる',
    'main.selectL2d': 'Live2D モデルフォルダを選択',
    'main.selectImage': '画像または GIF を選択', 'main.selectImageFolder': '画像フォルダを選択',
    'main.selectBubble': '吹き出し画像を選択', 'main.selectIcon': 'アプリアイコンを選択',
    'main.filterImage': '画像', 'main.filterIcon': 'アイコン',
    'main.noModel3Json': 'このフォルダに .model3.json ファイルが見つかりません',
    'main.model3NotExist': 'model3.json が存在しません',
    'main.modelFolderNotExist': 'モデルフォルダが存在しません',
    'main.model3ParseFail': 'model3.json の解析に失敗しました',
    'main.imageNotExist': '画像ファイルが存在しません',
    'main.setupDlCore': 'voicevox_core をダウンロード中...',
    'main.setupExtractCore': 'voicevox_core を展開中...',
    'main.setupCoreExists': 'voicevox_core は既に存在します',
    'main.setupDlOnnx': 'ONNX Runtime をダウンロード中...',
    'main.setupExtractOnnx': 'ONNX Runtime を展開中...',
    'main.setupOnnxExists': 'ONNX Runtime は既に存在します',
    'main.setupDlDml': 'ONNX Runtime (DirectML/GPU) をダウンロード中...',
    'main.setupExtractDml': 'ONNX Runtime (DirectML/GPU) を展開中...',
    'main.setupDmlExists': 'ONNX Runtime (DirectML/GPU) は既に存在します',
    'main.setupDlDict': 'Open JTalk 辞書をダウンロード中...',
    'main.setupExtractDict': 'Open JTalk 辞書を展開中...',
    'main.setupDictExists': 'Open JTalk 辞書は既に存在します',
    'main.setupDlVvm': '0.vvm をダウンロード中...',
    'main.setupVvmExists': '0.vvm は既に存在します',
    'main.setupDone': 'インストール完了！',
    'main.setupFail': 'インストール失敗: ',
    // トレイメニュー
    'tray.showSettings': '設定を表示', 'tray.showPet': 'ペットを表示', 'tray.hidePet': 'ペットを非表示', 'tray.quit': '終了',
  }
};

// Support both browser and Node.js environments
if (typeof window !== 'undefined') window.I18N = I18N;
if (typeof module !== 'undefined' && module.exports) module.exports = I18N;
